<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta Tags for SEO -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Primary Meta Tags -->
    <title>Delete PDF Pages - Free Tools Hub</title>
    <meta name="title" content="Delete PDF Pages - Free Tools Hub">
    <meta name="description" content="Remove unwanted pages from PDF files instantly. Visual page selection, instant preview, and secure browser-based processing. Free and easy to use!">
    <meta name="keywords" content="delete PDF pages, remove PDF pages, PDF editor, PDF tool, split PDF, free PDF editor">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="author" content="freetoolsapp">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://freetoolsapp.github.io/free-tools-hub/tools/utility/pdf-pages-delete.html">
    <meta property="og:title" content="Delete PDF Pages - Free Tools Hub">
    <meta property="og:description" content="Remove unwanted pages from PDF files instantly. Visual page selection, instant preview, and secure browser-based processing.">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://freetoolsapp.github.io/free-tools-hub/tools/utility/pdf-pages-delete.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../../favicon.ico">
    
    <!-- Stylesheets -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- PDF.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
    
    <style>
        .drop-zone {
            border: 3px dashed #667eea;
            transition: all 0.3s;
        }
        
        .drop-zone.dragover {
            border-color: #4caf50;
            background: #e8f5e9 !important;
            transform: scale(1.02);
        }
        
        .upload-section.dragover {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%) !important;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        .page-thumbnail {
            position: relative;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }

        .page-thumbnail:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .page-thumbnail.selected {
            border-color: #ef4444;
            opacity: 0.6;
        }

        .page-thumbnail.selected::after {
            content: '‚úì';
            position: absolute;
            top: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
        }

        .page-number {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
        }

        .page-thumbnail canvas {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }

        .delete-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: #ef4444;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: none;
        }

        .page-thumbnail.selected .delete-badge {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <a href="../../index.html" class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center">
                        <i class="fas fa-tools text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="font-bold text-xl text-gray-800">Free Tools Hub</h1>
                        <p class="text-xs text-gray-500">Tools ‚Ä¢ Blogs ‚Ä¢ Resources</p>
                    </div>
                </a>
                
                <nav class="hidden md:flex items-center space-x-6" aria-label="Main Navigation">
                    <a href="../../index.html" class="text-gray-700 hover:text-blue-600 font-medium"><i class="fas fa-home mr-1"></i>Home</a>
                    <a href="../../index.html#tools" class="text-gray-700 hover:text-blue-600 font-medium"><i class="fas fa-tools mr-1"></i>Tools</a>
                    <a href="../../blog.html" class="text-gray-700 hover:text-blue-600 font-medium"><i class="fas fa-blog mr-1"></i>Blog</a>
                    <a href="../../resources.html" class="text-gray-700 hover:text-blue-600 font-medium"><i class="fas fa-book mr-1"></i>Resources</a>
                    <a href="../../tutorials.html" class="text-gray-700 hover:text-blue-600 font-medium"><i class="fas fa-chalkboard-teacher mr-1"></i>Tutorials</a>
                    <a href="../../comparisons.html" class="text-gray-700 hover:text-blue-600 font-medium"><i class="fas fa-balance-scale mr-1"></i>Compare</a>
                    <a href="../../contact.html" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 rounded-lg hover:shadow-lg"><i class="fas fa-envelope mr-1"></i>Contact</a>
                </nav>
                
                <button id="mobileMenuBtn" class="md:hidden text-gray-700" aria-label="Toggle mobile menu"><i class="fas fa-bars text-2xl"></i></button>
            </div>
            
            <nav id="mobileMenu" class="hidden md:hidden mt-4 space-y-2" aria-label="Mobile Navigation">
                <a href="../../index.html" class="block py-2 text-gray-700 hover:text-blue-600"><i class="fas fa-home mr-2"></i>Home</a>
                <a href="../../index.html#tools" class="block py-2 text-gray-700 hover:text-blue-600"><i class="fas fa-tools mr-2"></i>Tools</a>
                <a href="../../blog.html" class="block py-2 text-gray-700 hover:text-blue-600"><i class="fas fa-blog mr-2"></i>Blog</a>
                <a href="../../resources.html" class="block py-2 text-gray-700 hover:text-blue-600"><i class="fas fa-book mr-2"></i>Resources</a>
                <a href="../../tutorials.html" class="block py-2 text-gray-700 hover:text-blue-600"><i class="fas fa-chalkboard-teacher mr-2"></i>Tutorials</a>
                <a href="../../comparisons.html" class="block py-2 text-gray-700 hover:text-blue-600"><i class="fas fa-balance-scale mr-2"></i>Compare</a>
                <a href="../../contact.html" class="block py-2 text-gray-700 hover:text-blue-600"><i class="fas fa-envelope mr-2"></i>Contact</a>
            </nav>
        </div>
    </header>

    <!-- Breadcrumb -->
    <div class="bg-white border-b">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center text-sm text-gray-600">
                <a href="../../index.html" class="hover:text-blue-600"><i class="fas fa-home mr-1"></i>Home</a>
                <i class="fas fa-chevron-right mx-2 text-gray-400"></i>
                <a href="../../index.html#tools" class="hover:text-blue-600">Tools</a>
                <i class="fas fa-chevron-right mx-2 text-gray-400"></i>
                <span class="text-gray-800 font-medium">Delete PDF Pages</span>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white py-12">
        <div class="container mx-auto px-4 text-center">
            <div class="w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur">
                <i class="fas fa-file-pdf text-5xl"></i>
            </div>
            <h2 class="text-4xl md:text-5xl font-bold mb-4">Delete PDF Pages</h2>
            <p class="text-xl mb-2">Remove unwanted pages from your PDF documents instantly</p>
            <p class="text-sm opacity-90"><i class="fas fa-check-circle mr-1"></i>Free ‚Ä¢ Visual Selection ‚Ä¢ Instant Preview ‚Ä¢ Secure</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="py-12">
        <div class="container mx-auto px-4 max-w-6xl">
            
            <!-- Upload Section -->
            <div id="uploadSection" class="bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg shadow-lg p-8 mb-8 transition-all duration-300 upload-section">
                <div class="text-center mb-6">
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">
                        <i class="fas fa-cloud-upload-alt text-blue-600 mr-2"></i>Upload Your PDF
                    </h3>
                    <p class="text-gray-600">Drag and drop or click to select your PDF file</p>
                </div>

                <div id="dropZone" class="drop-zone bg-white rounded-lg p-12 text-center cursor-pointer">
                    <i class="fas fa-file-pdf text-6xl text-blue-600 mb-4"></i>
                    <p class="text-lg font-semibold text-gray-700 mb-2">Drop your PDF here</p>
                    <p class="text-sm text-gray-500 mb-4">or click to browse</p>
                    <button class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-3 rounded-lg font-semibold hover:shadow-lg transition">
                        <i class="fas fa-folder-open mr-2"></i>Choose PDF File
                    </button>
                    <p class="text-xs text-gray-400 mt-4">Supported format: PDF ‚Ä¢ Max size: 50MB</p>
                </div>

                <input type="file" id="fileInput" accept=".pdf,application/pdf" class="hidden">
            </div>

            <!-- Processing Section -->
            <div id="processing" class="hidden bg-white rounded-lg shadow-lg p-8 mb-8">
                <div class="text-center">
                    <div class="spinner mb-6"></div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Loading PDF...</h3>
                    <p id="processingMsg" class="text-gray-600">üìÑ Please wait while we load your PDF...</p>
                </div>
            </div>

            <!-- Page Selection Section -->
            <div id="selectionSection" class="hidden">
                <!-- Stats Bar -->
                <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                    <div class="grid md:grid-cols-4 gap-4">
                        <div class="text-center">
                            <p class="text-sm text-gray-600 mb-1">Total Pages</p>
                            <p class="text-3xl font-bold text-gray-800" id="totalPages">0</p>
                        </div>
                        <div class="text-center">
                            <p class="text-sm text-gray-600 mb-1">To Delete</p>
                            <p class="text-3xl font-bold text-red-600" id="deleteCount">0</p>
                        </div>
                        <div class="text-center">
                            <p class="text-sm text-gray-600 mb-1">To Keep</p>
                            <p class="text-3xl font-bold text-green-600" id="keepCount">0</p>
                        </div>
                        <div class="text-center">
                            <p class="text-sm text-gray-600 mb-1">File Size</p>
                            <p class="text-xl font-bold text-gray-800" id="fileSize">0 KB</p>
                        </div>
                    </div>

                    <div class="flex flex-wrap gap-3 mt-6 justify-center">
                        <button onclick="invertSelection()" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition">
                            <i class="fas fa-exchange-alt mr-2"></i>Invert Selection
                        </button>
                        <button onclick="clearSelection()" class="bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition">
                            <i class="fas fa-eraser mr-2"></i>Clear Selection
                        </button>
                        <button onclick="selectAll()" class="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition">
                            <i class="fas fa-check-double mr-2"></i>Select All
                        </button>
                        <button onclick="deletePagesAndDownload()" class="bg-gradient-to-r from-green-500 to-green-600 text-white px-8 py-3 rounded-lg font-bold hover:shadow-lg transition">
                            <i class="fas fa-download mr-2"></i>Delete & Download PDF
                        </button>
                    </div>

                    <div class="mt-4 p-4 bg-red-50 border-l-4 border-red-500 rounded">
                        <p class="text-sm text-red-800">
                            <i class="fas fa-info-circle mr-2"></i>
                            <strong>Note:</strong> Click on pages to mark them for deletion (shown in red). Only unmarked pages will be kept in the final PDF.
                        </p>
                    </div>
                </div>

                <!-- Page Thumbnails -->
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">
                        <i class="fas fa-images text-blue-600 mr-2"></i>Select Pages to Delete (Click to Mark)
                    </h3>
                    <div id="pagesContainer" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
                </div>

                <!-- Reset Button -->
                <div class="mt-6 text-center">
                    <button onclick="resetTool()" class="bg-gray-100 text-gray-700 px-8 py-3 rounded-lg font-semibold hover:bg-gray-200 transition">
                        <i class="fas fa-redo mr-2"></i>Upload Another PDF
                    </button>
                </div>
            </div>

            <!-- Features -->
            <div class="grid md:grid-cols-3 gap-6 my-12">
                <div class="bg-white rounded-lg shadow-md p-6 text-center">
                    <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-eye text-3xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Visual Selection</h3>
                    <p class="text-gray-600">See page thumbnails before deleting. Click to select pages you want to remove.</p>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6 text-center">
                    <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-lock text-3xl text-purple-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">100% Secure</h3>
                    <p class="text-gray-600">All processing happens in your browser. Your PDF never leaves your device.</p>
                </div>

                <div class="bg-white rounded-lg shadow-md p-6 text-center">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-bolt text-3xl text-green-600"></i>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Instant Results</h3>
                    <p class="text-gray-600">Remove pages and download your edited PDF in seconds.</p>
                </div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12 mt-12">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8 mb-8">
                <div>
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="w-10 h-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center">
                            <i class="fas fa-tools text-white"></i>
                        </div>
                        <h3 class="font-bold text-xl">Free Tools Hub</h3>
                    </div>
                    <p class="text-gray-400 text-sm">Your one-stop destination for free online tools, tutorials, and resources.</p>
                </div>
                
                <div>
                    <h4 class="font-bold mb-4">Quick Links</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="../../index.html" class="text-gray-400 hover:text-white"><i class="fas fa-home mr-2"></i>Home</a></li>
                        <li><a href="../../index.html#tools" class="text-gray-400 hover:text-white"><i class="fas fa-tools mr-2"></i>All Tools</a></li>
                        <li><a href="../../blog.html" class="text-gray-400 hover:text-white"><i class="fas fa-blog mr-2"></i>Blog</a></li>
                        <li><a href="../../contact.html" class="text-gray-400 hover:text-white"><i class="fas fa-envelope mr-2"></i>Contact</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold mb-4">Categories</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="../../index.html#tools" class="text-gray-400 hover:text-white"><i class="fas fa-file mr-2"></i>PDF Tools</a></li>
                        <li><a href="../../resources.html" class="text-gray-400 hover:text-white"><i class="fas fa-book mr-2"></i>Resources</a></li>
                        <li><a href="../../tutorials.html" class="text-gray-400 hover:text-white"><i class="fas fa-chalkboard-teacher mr-2"></i>Tutorials</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-bold mb-4">Connect</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white text-2xl"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white text-2xl"><i class="fab fa-github"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white text-2xl"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 pt-8 text-center text-sm text-gray-400">
                <p>&copy; 2024 Free Tools Hub. All rights reserved. | Made with <i class="fas fa-heart text-red-500"></i> for developers</p>
            </div>
        </div>
    </footer>

    <script>
        // PDF.js worker setup
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

        // Mobile menu toggle
        document.getElementById('mobileMenuBtn').addEventListener('click', () => {
            document.getElementById('mobileMenu').classList.toggle('hidden');
        });

        // Global variables
        let pdfDoc = null;
        let pdfBytes = null;
        let selectedPages = new Set();
        let totalPageCount = 0;
        let originalFileName = '';

        const dropZone = document.getElementById('dropZone');
        const fileInput = document.getElementById('fileInput');

        // Click to upload
        dropZone.addEventListener('click', () => {
            fileInput.click();
        });

        // Drag and drop handlers
        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('dragover');
            document.querySelector('.upload-section').classList.add('dragover');
        });

        dropZone.addEventListener('dragleave', (e) => {
            e.preventDefault();
            dropZone.classList.remove('dragover');
            document.querySelector('.upload-section').classList.remove('dragover');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('dragover');
            document.querySelector('.upload-section').classList.remove('dragover');
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                handleFile(files[0]);
            }
        });

        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                handleFile(file);
            }
        });

        async function handleFile(file) {
            // Validate file type
            if (file.type !== 'application/pdf') {
                alert('‚ùå Please upload a valid PDF file');
                return;
            }

            // Check file size (max 50MB)
            if (file.size > 50 * 1024 * 1024) {
                alert('‚ùå File too large! Please upload a file smaller than 50MB');
                return;
            }

            originalFileName = file.name;

            // Show processing
            document.getElementById('uploadSection').classList.add('hidden');
            document.getElementById('processing').classList.remove('hidden');

            try {
                // Read file as ArrayBuffer
                const arrayBuffer = await file.arrayBuffer();
                
                // Create a copy to prevent detached buffer issue
                pdfBytes = new Uint8Array(arrayBuffer).slice(0);
                
                // Load PDF with pdf.js
                const loadingTask = pdfjsLib.getDocument({data: pdfBytes});
                pdfDoc = await loadingTask.promise;
                
                totalPageCount = pdfDoc.numPages;
                
                // Update file size
                document.getElementById('fileSize').textContent = formatBytes(file.size);
                
                // Render pages
                await renderPages();
                
                // Show selection section
                document.getElementById('processing').classList.add('hidden');
                document.getElementById('selectionSection').classList.remove('hidden');
                
                updateStats();
                
            } catch (error) {
                console.error('Error loading PDF:', error);
                alert('‚ùå Error loading PDF: ' + error.message);
                resetTool();
            }
        }

        async function renderPages() {
            const container = document.getElementById('pagesContainer');
            container.innerHTML = '';
            
            for (let i = 1; i <= totalPageCount; i++) {
                const page = await pdfDoc.getPage(i);
                const viewport = page.getViewport({ scale: 0.5 });
                
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                canvas.height = viewport.height;
                canvas.width = viewport.width;
                
                await page.render({
                    canvasContext: context,
                    viewport: viewport
                }).promise;
                
                const pageDiv = document.createElement('div');
                pageDiv.className = 'page-thumbnail bg-white rounded-lg shadow-md overflow-hidden';
                pageDiv.dataset.pageNum = i;
                pageDiv.onclick = () => togglePage(i);
                
                pageDiv.innerHTML = `
                    <div class="delete-badge">DELETE</div>
                    <div class="page-number">Page ${i}</div>
                `;
                pageDiv.appendChild(canvas);
                
                container.appendChild(pageDiv);
            }
        }

        function togglePage(pageNum) {
            const pageDiv = document.querySelector(`[data-page-num="${pageNum}"]`);
            
            if (selectedPages.has(pageNum)) {
                selectedPages.delete(pageNum);
                pageDiv.classList.remove('selected');
            } else {
                selectedPages.add(pageNum);
                pageDiv.classList.add('selected');
            }
            
            updateStats();
        }

        function updateStats() {
            document.getElementById('totalPages').textContent = totalPageCount;
            document.getElementById('deleteCount').textContent = selectedPages.size;
            document.getElementById('keepCount').textContent = totalPageCount - selectedPages.size;
        }

        function invertSelection() {
            for (let i = 1; i <= totalPageCount; i++) {
                togglePage(i);
            }
        }

        function clearSelection() {
            selectedPages.clear();
            document.querySelectorAll('.page-thumbnail').forEach(div => {
                div.classList.remove('selected');
            });
            updateStats();
        }

        function selectAll() {
            document.querySelectorAll('.page-thumbnail').forEach(div => {
                const pageNum = parseInt(div.dataset.pageNum);
                selectedPages.add(pageNum);
                div.classList.add('selected');
            });
            updateStats();
        }

        async function deletePagesAndDownload() {
            if (selectedPages.size === 0) {
                alert('‚ö†Ô∏è Please select at least one page to delete');
                return;
            }

            if (selectedPages.size === totalPageCount) {
                alert('‚ùå You cannot delete all pages. At least one page must remain.');
                return;
            }

            const confirmed = confirm(`Are you sure you want to delete ${selectedPages.size} page(s)?\n\nThis will keep ${totalPageCount - selectedPages.size} page(s) in the final PDF.`);
            
            if (!confirmed) return;

            try {
                // Show processing
                document.getElementById('selectionSection').classList.add('hidden');
                document.getElementById('processing').classList.remove('hidden');
                document.getElementById('processingMsg').textContent = 'üîÑ Creating your new PDF...';

                // Load PDF with pdf-lib
                const pdfDoc = await PDFLib.PDFDocument.load(pdfBytes);
                
                // Get pages to keep (in reverse to avoid index issues)
                const pagesToDelete = Array.from(selectedPages).sort((a, b) => b - a);
                
                // Remove selected pages
                for (const pageNum of pagesToDelete) {
                    pdfDoc.removePage(pageNum - 1); // 0-indexed
                }

                // Save the modified PDF
                const modifiedPdfBytes = await pdfDoc.save();
                
                // Download
                const blob = new Blob([modifiedPdfBytes], { type: 'application/pdf' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = originalFileName.replace('.pdf', '_edited.pdf');
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                URL.revokeObjectURL(url);

                // Show success message
                document.getElementById('processing').classList.add('hidden');
                
                alert(`‚úÖ Success!\n\n${selectedPages.size} page(s) deleted\n${totalPageCount - selectedPages.size} page(s) kept\n\nYour edited PDF has been downloaded!`);
                
                // Reset
                resetTool();

            } catch (error) {
                console.error('Error creating PDF:', error);
                alert('‚ùå Error creating PDF: ' + error.message);
                document.getElementById('processing').classList.add('hidden');
                document.getElementById('selectionSection').classList.remove('hidden');
            }
        }

        function resetTool() {
            pdfDoc = null;
            pdfBytes = null;
            selectedPages.clear();
            totalPageCount = 0;
            originalFileName = '';
            
            document.getElementById('uploadSection').classList.remove('hidden');
            document.getElementById('processing').classList.add('hidden');
            document.getElementById('selectionSection').classList.add('hidden');
            document.getElementById('pagesContainer').innerHTML = '';
            fileInput.value = '';
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function formatBytes(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + ' ' + sizes[i];
        }
    </script>
</body>
</html>
