<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta Tags for SEO -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- Primary Meta Tags -->
    <title>Keyword Density Checker - Free Tools Hub</title>
    <meta name="title" content="Keyword Density Checker - Free Tools Hub">
    <meta name="description" content="Analyze keyword density and optimize your content for SEO. Free keyword frequency analyzer with detailed reports. No signup required!">
    <meta name="keywords" content="keyword density, SEO tool, keyword analyzer, content optimization, keyword frequency">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="author" content="freetoolsapp">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://freetoolsapp.github.io/free-tools-hub/tools/seo/keyword-density-checker.html">
    <meta property="og:title" content="Keyword Density Checker - Free Tools Hub">
    <meta property="og:description" content="Analyze keyword density and optimize your content for SEO. Free keyword frequency analyzer with detailed reports. No signup required!">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://freetoolsapp.github.io/free-tools-hub/tools/seo/keyword-density-checker.html">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Stylesheets -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        .keyword-row {
            transition: all 0.3s;
        }

        .keyword-row:hover {
            background: #f9fafb;
            transform: scale(1.01);
        }

        .density-bar {
            transition: width 0.5s ease-in-out;
        }

        .highlighted-keyword {
            background-color: #fef3c7;
            border-bottom: 2px solid #f59e0b;
            padding: 2px 4px;
            border-radius: 2px;
            font-weight: 600;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-section {
            animation: slideIn 0.4s ease-out;
        }

        .chart-container {
            position: relative;
            height: 300px;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <a href="../../index.html" class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center">
                        <i class="fas fa-tools text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="font-bold text-xl text-gray-800">Free Tools Hub</h1>
                        <p class="text-xs text-gray-500">Tools • Blogs • Resources</p>
                    </div>
                </a>
                
                <nav class="hidden md:flex items-center space-x-6" aria-label="Main Navigation">
                    <a href="../../index.html" class="text-gray-700 hover:text-blue-600 font-medium"><i class="fas fa-home mr-1"></i>Home</a>
                    <a href="../../index.html#tools" class="text-gray-700 hover:text-blue-600 font-medium"><i class="fas fa-tools mr-1"></i>Tools</a>
                    <a href="../../blog.html" class="text-gray-700 hover:text-blue-600 font-medium"><i class="fas fa-blog mr-1"></i>Blog</a>
                    <a href="../../resources.html" class="text-gray-700 hover:text-blue-600 font-medium"><i class="fas fa-book mr-1"></i>Resources</a>
                    <a href="../../tutorials.html" class="text-gray-700 hover:text-blue-600 font-medium"><i class="fas fa-chalkboard-teacher mr-1"></i>Tutorials</a>
                    <a href="../../comparisons.html" class="text-gray-700 hover:text-blue-600 font-medium"><i class="fas fa-balance-scale mr-1"></i>Compare</a>
                    <a href="../../contact.html" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 rounded-lg hover:shadow-lg"><i class="fas fa-envelope mr-1"></i>Contact</a>
                </nav>
                
                <button id="mobileMenuBtn" class="md:hidden text-gray-700" aria-label="Toggle mobile menu"><i class="fas fa-bars text-2xl"></i></button>
            </div>
            
            <nav id="mobileMenu" class="hidden md:hidden mt-4 space-y-2" aria-label="Mobile Navigation">
                <a href="../../index.html" class="block py-2"><i class="fas fa-home mr-2"></i>Home</a>
                <a href="../../index.html#tools" class="block py-2"><i class="fas fa-tools mr-2"></i>Tools</a>
                <a href="../../blog.html" class="block py-2"><i class="fas fa-blog mr-2"></i>Blog</a>
                <a href="../../resources.html" class="block py-2"><i class="fas fa-book mr-2"></i>Resources</a>
                <a href="../../tutorials.html" class="block py-2"><i class="fas fa-chalkboard-teacher mr-2"></i>Tutorials</a>
                <a href="../../comparisons.html" class="block py-2"><i class="fas fa-balance-scale mr-2"></i>Compare</a>
                <a href="../../contact.html" class="block py-2"><i class="fas fa-envelope mr-2"></i>Contact</a>
            </nav>
        </div>
    </header>

    <!-- Breadcrumb -->
    <div class="bg-white border-b">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center text-sm text-gray-600">
                <a href="../../index.html" class="hover:text-blue-600"><i class="fas fa-home mr-1"></i>Home</a>
                <i class="fas fa-chevron-right mx-2 text-gray-400"></i>
                <a href="../../index.html#tools" class="hover:text-blue-600">Tools</a>
                <i class="fas fa-chevron-right mx-2 text-gray-400"></i>
                <span class="text-gray-800 font-medium">Keyword Density Checker</span>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white py-12">
        <div class="container mx-auto px-4 text-center">
            <div class="w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur">
                <i class="fas fa-chart-bar text-5xl"></i>
            </div>
            <h2 class="text-4xl md:text-5xl font-bold mb-4">Keyword Density Checker</h2>
            <p class="text-xl mb-2">Analyze keyword density and optimize your content for SEO</p>
            <p class="text-sm opacity-90"><i class="fas fa-check-circle mr-1"></i>Free • Detailed Analysis • SEO Optimization</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="py-12">
        <div class="container mx-auto px-4 max-w-6xl">
            
            <!-- Input Section -->
            <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">
                    <i class="fas fa-file-alt text-blue-600 mr-2"></i>Enter Your Content
                </h3>
                
                <textarea 
                    id="contentInput" 
                    class="w-full h-64 p-4 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none resize-none"
                    placeholder="Paste your content here to analyze keyword density...&#10;&#10;The tool will analyze all words and phrases, showing you the most frequently used keywords and their density percentages."
                ></textarea>

                <div class="flex items-center justify-between mt-4 text-sm text-gray-600">
                    <span id="wordCount">Words: 0 | Characters: 0</span>
                    <span id="minWarning" class="text-orange-600 hidden">⚠️ Add more content for better analysis</span>
                </div>

                <div class="flex gap-4 mt-6">
                    <button 
                        onclick="analyzeKeywords()" 
                        class="flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-lg font-semibold hover:shadow-lg transition text-lg"
                    >
                        <i class="fas fa-chart-bar mr-2"></i>Analyze Keywords
                    </button>
                    <button 
                        onclick="clearAll()" 
                        class="px-8 py-4 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition"
                    >
                        <i class="fas fa-redo mr-2"></i>Clear
                    </button>
                </div>

                <!-- Info Cards -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                    <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border-2 border-blue-200">
                        <i class="fas fa-percentage text-3xl text-blue-600 mb-3"></i>
                        <h4 class="font-bold text-gray-800 mb-2">Density Analysis</h4>
                        <p class="text-sm text-gray-600">Calculate exact keyword frequency and density percentages</p>
                    </div>
                    <div class="bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-lg border-2 border-purple-200">
                        <i class="fas fa-layer-group text-3xl text-purple-600 mb-3"></i>
                        <h4 class="font-bold text-gray-800 mb-2">Multi-Word Phrases</h4>
                        <p class="text-sm text-gray-600">Analyze single words, 2-word, and 3-word phrases</p>
                    </div>
                    <div class="bg-gradient-to-br from-pink-50 to-pink-100 p-6 rounded-lg border-2 border-pink-200">
                        <i class="fas fa-search-plus text-3xl text-pink-600 mb-3"></i>
                        <h4 class="font-bold text-gray-800 mb-2">SEO Insights</h4>
                        <p class="text-sm text-gray-600">Get recommendations for optimal keyword usage</p>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div id="resultsSection" class="hidden">
                
                <!-- Overview Stats -->
                <div class="result-section bg-white rounded-lg shadow-lg p-8 mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6 text-center">
                        <i class="fas fa-chart-pie text-green-600 mr-2"></i>Content Overview
                    </h3>

                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg text-center border-2 border-blue-200">
                            <i class="fas fa-file-alt text-3xl text-blue-600 mb-2"></i>
                            <div class="text-3xl font-bold text-gray-800" id="totalWords">0</div>
                            <p class="text-sm text-gray-600 mt-1">Total Words</p>
                        </div>
                        <div class="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-lg text-center border-2 border-green-200">
                            <i class="fas fa-check-circle text-3xl text-green-600 mb-2"></i>
                            <div class="text-3xl font-bold text-gray-800" id="uniqueWords">0</div>
                            <p class="text-sm text-gray-600 mt-1">Unique Words</p>
                        </div>
                        <div class="bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-lg text-center border-2 border-purple-200">
                            <i class="fas fa-paragraph text-3xl text-purple-600 mb-2"></i>
                            <div class="text-3xl font-bold text-gray-800" id="totalSentences">0</div>
                            <p class="text-sm text-gray-600 mt-1">Sentences</p>
                        </div>
                        <div class="bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-lg text-center border-2 border-orange-200">
                            <i class="fas fa-key text-3xl text-orange-600 mb-2"></i>
                            <div class="text-3xl font-bold text-gray-800" id="topKeywordDensity">0%</div>
                            <p class="text-sm text-gray-600 mt-1">Top Density</p>
                        </div>
                    </div>
                </div>

                <!-- Keyword Tabs -->
                <div class="result-section bg-white rounded-lg shadow-lg p-8 mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">
                        <i class="fas fa-list text-purple-600 mr-2"></i>Keyword Analysis
                    </h3>

                    <!-- Tabs -->
                    <div class="flex flex-wrap gap-2 mb-6 border-b-2 border-gray-200 pb-4">
                        <button onclick="switchTab('single')" id="tab-single" class="tab-btn active px-6 py-3 rounded-t-lg font-semibold bg-gradient-to-r from-blue-600 to-purple-600 text-white">
                            <i class="fas fa-font mr-2"></i>Single Words
                        </button>
                        <button onclick="switchTab('two')" id="tab-two" class="tab-btn px-6 py-3 rounded-t-lg font-semibold bg-gray-100 text-gray-700 hover:bg-gray-200">
                            <i class="fas fa-layer-group mr-2"></i>2-Word Phrases
                        </button>
                        <button onclick="switchTab('three')" id="tab-three" class="tab-btn px-6 py-3 rounded-t-lg font-semibold bg-gray-100 text-gray-700 hover:bg-gray-200">
                            <i class="fas fa-align-left mr-2"></i>3-Word Phrases
                        </button>
                    </div>

                    <!-- Single Word Keywords -->
                    <div id="single-words" class="keyword-table">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="bg-gray-100 border-b-2 border-gray-300">
                                        <th class="px-4 py-3 text-left font-bold text-gray-700">#</th>
                                        <th class="px-4 py-3 text-left font-bold text-gray-700">Keyword</th>
                                        <th class="px-4 py-3 text-center font-bold text-gray-700">Count</th>
                                        <th class="px-4 py-3 text-left font-bold text-gray-700">Density</th>
                                    </tr>
                                </thead>
                                <tbody id="singleWordsTable"></tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Two Word Phrases -->
                    <div id="two-words" class="keyword-table hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="bg-gray-100 border-b-2 border-gray-300">
                                        <th class="px-4 py-3 text-left font-bold text-gray-700">#</th>
                                        <th class="px-4 py-3 text-left font-bold text-gray-700">Keyword Phrase</th>
                                        <th class="px-4 py-3 text-center font-bold text-gray-700">Count</th>
                                        <th class="px-4 py-3 text-left font-bold text-gray-700">Density</th>
                                    </tr>
                                </thead>
                                <tbody id="twoWordsTable"></tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Three Word Phrases -->
                    <div id="three-words" class="keyword-table hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="bg-gray-100 border-b-2 border-gray-300">
                                        <th class="px-4 py-3 text-left font-bold text-gray-700">#</th>
                                        <th class="px-4 py-3 text-left font-bold text-gray-700">Keyword Phrase</th>
                                        <th class="px-4 py-3 text-center font-bold text-gray-700">Count</th>
                                        <th class="px-4 py-3 text-left font-bold text-gray-700">Density</th>
                                    </tr>
                                </thead>
                                <tbody id="threeWordsTable"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- SEO Recommendations -->
                <div class="result-section bg-white rounded-lg shadow-lg p-8 mb-8">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">
                        <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>SEO Recommendations
                    </h3>
                    <div id="recommendations" class="space-y-3"></div>
                </div>

                <!-- Highlighted Content -->
                <div class="result-section bg-white rounded-lg shadow-lg p-8 mb-8">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold text-gray-800">
                            <i class="fas fa-highlighter text-orange-600 mr-2"></i>Highlighted Content
                        </h3>
                        <div class="flex gap-2">
                            <input 
                                type="text" 
                                id="highlightKeyword" 
                                placeholder="Enter keyword to highlight..."
                                class="px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"
                            >
                            <button onclick="highlightKeyword()" class="bg-gradient-to-r from-orange-600 to-red-600 text-white px-6 py-2 rounded-lg font-semibold hover:shadow-lg transition">
                                <i class="fas fa-search mr-2"></i>Highlight
                            </button>
                        </div>
                    </div>
                    <div id="highlightedContent" class="bg-gray-50 p-6 rounded-lg border-2 border-gray-200 leading-relaxed whitespace-pre-wrap"></div>
                </div>

                <!-- Export -->
                <div class="text-center">
                    <button 
                        onclick="downloadReport()" 
                        class="bg-gradient-to-r from-green-600 to-teal-600 text-white px-8 py-3 rounded-lg font-semibold hover:shadow-lg transition"
                    >
                        <i class="fas fa-download mr-2"></i>Download Full Report
                    </button>
                </div>

            </div>

            <!-- Related Tools -->
            <div class="bg-white rounded-lg shadow-lg p-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">
                    <i class="fas fa-toolbox text-purple-600 mr-2"></i>Related SEO Tools
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <a href="../seo/meta-description-generator.html" class="block p-4 bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-lg hover:shadow-lg transition border-2 border-indigo-200">
                        <i class="fas fa-code text-2xl text-indigo-600 mb-2"></i>
                        <h4 class="font-bold text-gray-800 mb-1">Meta Description</h4>
                        <p class="text-sm text-gray-600">Generate SEO meta descriptions</p>
                    </a>
                    <a href="../seo/backlink-checker.html" class="block p-4 bg-gradient-to-br from-teal-50 to-teal-100 rounded-lg hover:shadow-lg transition border-2 border-teal-200">
                        <i class="fas fa-link text-2xl text-teal-600 mb-2"></i>
                        <h4 class="font-bold text-gray-800 mb-1">Backlink Checker</h4>
                        <p class="text-sm text-gray-600">Analyze website backlinks</p>
                    </a>
                    <a href="../ai/plagiarism-checker.html" class="block p-4 bg-gradient-to-br from-red-50 to-red-100 rounded-lg hover:shadow-lg transition border-2 border-red-200">
                        <i class="fas fa-search text-2xl text-red-600 mb-2"></i>
                        <h4 class="font-bold text-gray-800 mb-1">Plagiarism Checker</h4>
                        <p class="text-sm text-gray-600">Check content originality</p>
                    </a>
                </div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-5 gap-8">
                <div>
                    <h3 class="font-bold text-lg mb-4">
                        <i class="fas fa-tools mr-2"></i>Free Tools Hub
                    </h3>
                    <p class="text-gray-400 text-sm">Your complete hub for free online tools, expert blogs, and curated resources. Fast, simple, and secure.</p>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Categories</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="../../index.html#tools" onclick="filterTools('utility')" class="hover:text-white transition"><i class="fas fa-wrench mr-2"></i>Utility Tools</a></li>
                        <li><a href="../../index.html#tools" onclick="filterTools('student')" class="hover:text-white transition"><i class="fas fa-graduation-cap mr-2"></i>Student Tools</a></li>
                        <li><a href="../../index.html#tools" onclick="filterTools('design')" class="hover:text-white transition"><i class="fas fa-palette mr-2"></i>Design Tools</a></li>
                        <li><a href="../../index.html#tools" onclick="filterTools('seo')" class="hover:text-white transition"><i class="fas fa-chart-line mr-2"></i>SEO Tools</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Resources</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="../../blog.html" class="hover:text-white transition"><i class="fas fa-blog mr-2"></i>Blog</a></li>
                        <li><a href="../../tutorials.html" class="hover:text-white transition"><i class="fas fa-chalkboard-teacher mr-2"></i>Tutorials</a></li>
                        <li><a href="../../resources.html" class="hover:text-white transition"><i class="fas fa-book mr-2"></i>Resources</a></li>
                        <li><a href="../../comparisons.html" class="hover:text-white transition"><i class="fas fa-balance-scale mr-2"></i>Compare Tools</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Company</h4>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><a href="../../about.html" class="hover:text-white transition"><i class="fas fa-info-circle mr-2"></i>About Us</a></li>
                        <li><a href="../../contact.html" class="hover:text-white transition"><i class="fas fa-envelope mr-2"></i>Contact</a></li>
                        <li><a href="../../privacy.html" class="hover:text-white transition"><i class="fas fa-shield-alt mr-2"></i>Privacy Policy</a></li>
                        <li><a href="../../terms.html" class="hover:text-white transition"><i class="fas fa-file-contract mr-2"></i>Terms of Service</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Connect</h4>
                    <div class="flex space-x-4 text-2xl">
                        <a href="#" class="hover:text-blue-400 transition" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="hover:text-blue-600 transition" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="hover:text-red-500 transition" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="hover:text-pink-500 transition" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    </div>
                    <p class="text-gray-400 text-xs mt-4">by freetoolsapp</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm text-gray-400">
                <p>&copy; 2025 Free Tools Hub. All rights reserved. Made with <i class="fas fa-heart text-red-500"></i> for creators and learners.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            const icon = mobileMenuBtn.querySelector('i');
            icon.classList.toggle('fa-bars');
            icon.classList.toggle('fa-times');
        });

        // Word counter
        const contentInput = document.getElementById('contentInput');
        const wordCount = document.getElementById('wordCount');
        const minWarning = document.getElementById('minWarning');

        contentInput.addEventListener('input', function() {
            const text = this.value.trim();
            const words = text ? text.split(/\s+/).filter(word => word.length > 0).length : 0;
            const chars = this.value.length;
            
            wordCount.textContent = `Words: ${words} | Characters: ${chars}`;
            
            if (words < 100 && words > 0) {
                minWarning.classList.remove('hidden');
            } else {
                minWarning.classList.add('hidden');
            }
        });

        // Stop words to exclude from analysis
        const stopWords = new Set([
            'the', 'be', 'to', 'of', 'and', 'a', 'in', 'that', 'have', 'i',
            'it', 'for', 'not', 'on', 'with', 'he', 'as', 'you', 'do', 'at',
            'this', 'but', 'his', 'by', 'from', 'they', 'we', 'say', 'her', 'she',
            'or', 'an', 'will', 'my', 'one', 'all', 'would', 'there', 'their',
            'what', 'so', 'up', 'out', 'if', 'about', 'who', 'get', 'which', 'go',
            'me', 'when', 'make', 'can', 'like', 'time', 'no', 'just', 'him', 'know',
            'take', 'people', 'into', 'year', 'your', 'good', 'some', 'could', 'them',
            'see', 'other', 'than', 'then', 'now', 'look', 'only', 'come', 'its', 'over',
            'think', 'also', 'back', 'after', 'use', 'two', 'how', 'our', 'work',
            'first', 'well', 'way', 'even', 'new', 'want', 'because', 'any', 'these',
            'give', 'day', 'most', 'us', 'is', 'was', 'are', 'been', 'has', 'had',
            'were', 'said', 'did', 'having', 'may', 'should', 'am'
        ]);

        let analysisData = {
            singleWords: {},
            twoWords: {},
            threeWords: {},
            totalWords: 0,
            originalText: ''
        };

        function analyzeKeywords() {
            const text = contentInput.value.trim();
            
            if (!text) {
                alert('⚠️ Please enter some content to analyze.');
                return;
            }

            const words = text.toLowerCase().split(/\s+/).filter(word => word.length > 0);
            
            if (words.length < 50) {
                alert('⚠️ Please enter at least 50 words for meaningful keyword analysis.');
                return;
            }

            // Reset data
            analysisData = {
                singleWords: {},
                twoWords: {},
                threeWords: {},
                totalWords: words.length,
                originalText: text
            };

            // Clean words
            const cleanWords = words.map(w => w.replace(/[^a-z0-9]/g, '')).filter(w => w.length > 0);

            // Single words
            cleanWords.forEach(word => {
                if (!stopWords.has(word) && word.length > 2) {
                    analysisData.singleWords[word] = (analysisData.singleWords[word] || 0) + 1;
                }
            });

            // Two-word phrases
            for (let i = 0; i < cleanWords.length - 1; i++) {
                const phrase = cleanWords[i] + ' ' + cleanWords[i + 1];
                if (!stopWords.has(cleanWords[i]) || !stopWords.has(cleanWords[i + 1])) {
                    analysisData.twoWords[phrase] = (analysisData.twoWords[phrase] || 0) + 1;
                }
            }

            // Three-word phrases
            for (let i = 0; i < cleanWords.length - 2; i++) {
                const phrase = cleanWords[i] + ' ' + cleanWords[i + 1] + ' ' + cleanWords[i + 2];
                analysisData.threeWords[phrase] = (analysisData.threeWords[phrase] || 0) + 1;
            }

            displayResults();
        }

        function displayResults() {
            document.getElementById('resultsSection').classList.remove('hidden');
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });

            // Overview stats
            const sentences = analysisData.originalText.split(/[.!?]+/).filter(s => s.trim().length > 0).length;
            const uniqueWords = Object.keys(analysisData.singleWords).length;
            
            document.getElementById('totalWords').textContent = analysisData.totalWords;
            document.getElementById('uniqueWords').textContent = uniqueWords;
            document.getElementById('totalSentences').textContent = sentences;

            // Display tables
            displayKeywordTable('singleWordsTable', analysisData.singleWords, analysisData.totalWords);
            displayKeywordTable('twoWordsTable', analysisData.twoWords, analysisData.totalWords);
            displayKeywordTable('threeWordsTable', analysisData.threeWords, analysisData.totalWords);

            // Top density
            const topKeywords = Object.entries(analysisData.singleWords).sort((a, b) => b[1] - a[1]);
            if (topKeywords.length > 0) {
                const topDensity = ((topKeywords[0][1] / analysisData.totalWords) * 100).toFixed(2);
                document.getElementById('topKeywordDensity').textContent = topDensity + '%';
            }

            // Highlighted content
            document.getElementById('highlightedContent').textContent = analysisData.originalText;

            // SEO Recommendations
            generateRecommendations();
        }

        function displayKeywordTable(tableId, keywords, totalWords) {
            const table = document.getElementById(tableId);
            const sorted = Object.entries(keywords).sort((a, b) => b[1] - a[1]).slice(0, 20);

            table.innerHTML = sorted.map((entry, index) => {
                const [keyword, count] = entry;
                const density = ((count / totalWords) * 100).toFixed(2);
                const densityWidth = Math.min(density * 10, 100);

                let colorClass = 'from-green-500 to-green-600';
                if (density > 3) colorClass = 'from-red-500 to-red-600';
                else if (density > 2) colorClass = 'from-yellow-500 to-yellow-600';

                return `
                    <tr class="keyword-row border-b border-gray-200">
                        <td class="px-4 py-3 text-gray-600 font-medium">${index + 1}</td>
                        <td class="px-4 py-3 font-semibold text-gray-800">${keyword}</td>
                        <td class="px-4 py-3 text-center">
                            <span class="inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full font-bold">${count}</span>
                        </td>
                        <td class="px-4 py-3">
                            <div class="flex items-center">
                                <div class="w-full bg-gray-200 rounded-full h-6 mr-3 overflow-hidden">
                                    <div class="density-bar h-6 bg-gradient-to-r ${colorClass} flex items-center justify-center text-white text-xs font-bold" style="width: ${densityWidth}%">
                                        ${density}%
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        function switchTab(type) {
            // Update tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active', 'bg-gradient-to-r', 'from-blue-600', 'to-purple-600', 'text-white');
                btn.classList.add('bg-gray-100', 'text-gray-700');
            });

            document.getElementById(`tab-${type}`).classList.add('active', 'bg-gradient-to-r', 'from-blue-600', 'to-purple-600', 'text-white');
            document.getElementById(`tab-${type}`).classList.remove('bg-gray-100', 'text-gray-700');

            // Show/hide tables
            document.getElementById('single-words').classList.add('hidden');
            document.getElementById('two-words').classList.add('hidden');
            document.getElementById('three-words').classList.add('hidden');

            document.getElementById(`${type}-words`).classList.remove('hidden');
        }

        function generateRecommendations() {
            const recommendations = document.getElementById('recommendations');
            const recs = [];

            const topKeywords = Object.entries(analysisData.singleWords).sort((a, b) => b[1] - a[1]);
            
            if (topKeywords.length > 0) {
                const topDensity = (topKeywords[0][1] / analysisData.totalWords) * 100;
                
                if (topDensity > 5) {
                    recs.push({
                        icon: 'fa-exclamation-triangle',
                        color: 'red',
                        text: `Keyword "${topKeywords[0][0]}" appears too frequently (${topDensity.toFixed(2)}%). Recommended density is 1-3% to avoid keyword stuffing.`
                    });
                } else if (topDensity >= 2 && topDensity <= 3) {
                    recs.push({
                        icon: 'fa-check-circle',
                        color: 'green',
                        text: `Great! Your top keyword "${topKeywords[0][0]}" has optimal density (${topDensity.toFixed(2)}%).`
                    });
                } else if (topDensity < 1) {
                    recs.push({
                        icon: 'fa-info-circle',
                        color: 'blue',
                        text: `Consider using your main keyword "${topKeywords[0][0]}" more frequently. Current density is ${topDensity.toFixed(2)}%.`
                    });
                }
            }

            const uniquePercentage = (Object.keys(analysisData.singleWords).length / analysisData.totalWords) * 100;
            if (uniquePercentage < 30) {
                recs.push({
                    icon: 'fa-lightbulb',
                    color: 'yellow',
                    text: 'Low vocabulary diversity detected. Try using more varied vocabulary and synonyms.'
                });
            }

            recs.push({
                icon: 'fa-search',
                color: 'purple',
                text: 'Use 2-word and 3-word phrases (long-tail keywords) for better SEO targeting.'
            });

            recs.push({
                icon: 'fa-balance-scale',
                color: 'teal',
                text: 'Maintain natural writing flow. Don\'t force keywords - focus on user experience first.'
            });

            recommendations.innerHTML = recs.map(rec => `
                <div class="flex items-start bg-${rec.color}-50 p-4 rounded-lg border-2 border-${rec.color}-200">
                    <i class="fas ${rec.icon} text-${rec.color}-600 text-xl mr-3 mt-1"></i>
                    <p class="text-gray-700">${rec.text}</p>
                </div>
            `).join('');
        }

        function highlightKeyword() {
            const keyword = document.getElementById('highlightKeyword').value.trim().toLowerCase();
            
            if (!keyword) {
                alert('⚠️ Please enter a keyword to highlight.');
                return;
            }

            let highlightedText = analysisData.originalText;
            const regex = new RegExp(`\\b${keyword}\\b`, 'gi');
            highlightedText = highlightedText.replace(regex, match => `<span class="highlighted-keyword">${match}</span>`);
            
            document.getElementById('highlightedContent').innerHTML = highlightedText;
        }

        function clearAll() {
            contentInput.value = '';
            wordCount.textContent = 'Words: 0 | Characters: 0';
            minWarning.classList.add('hidden');
            document.getElementById('resultsSection').classList.add('hidden');
            analysisData = { singleWords: {}, twoWords: {}, threeWords: {}, totalWords: 0, originalText: '' };
        }

        function downloadReport() {
            const topSingle = Object.entries(analysisData.singleWords).sort((a, b) => b[1] - a[1]).slice(0, 10);
            const topTwo = Object.entries(analysisData.twoWords).sort((a, b) => b[1] - a[1]).slice(0, 10);
            const topThree = Object.entries(analysisData.threeWords).sort((a, b) => b[1] - a[1]).slice(0, 10);

            const report = `
KEYWORD DENSITY ANALYSIS REPORT
Generated: ${new Date().toLocaleString()}
========================================

CONTENT OVERVIEW:
• Total Words: ${analysisData.totalWords}
• Unique Words: ${Object.keys(analysisData.singleWords).length}
• Sentences: ${analysisData.originalText.split(/[.!?]+/).filter(s => s.trim().length > 0).length}

TOP 10 SINGLE KEYWORDS:
${topSingle.map(([word, count], i) => {
    const density = ((count / analysisData.totalWords) * 100).toFixed(2);
    return `${i + 1}. "${word}" - Count: ${count}, Density: ${density}%`;
}).join('\n')}

TOP 10 TWO-WORD PHRASES:
${topTwo.map(([phrase, count], i) => {
    const density = ((count / analysisData.totalWords) * 100).toFixed(2);
    return `${i + 1}. "${phrase}" - Count: ${count}, Density: ${density}%`;
}).join('\n')}

TOP 10 THREE-WORD PHRASES:
${topThree.map(([phrase, count], i) => {
    const density = ((count / analysisData.totalWords) * 100).toFixed(2);
    return `${i + 1}. "${phrase}" - Count: ${count}, Density: ${density}%`;
}).join('\n')}

========================================
Report generated by Free Tools Hub
https://freetoolsapp.github.io/free-tools-hub/
            `;

            const blob = new Blob([report], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `keyword-density-report-${new Date().getTime()}.txt`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
